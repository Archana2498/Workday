<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function($uibModal, $scope) {
  /* widget controller */
  var c = this;	
	
	c.openModal = function(comment) {
 	c.modalInstance = $uibModal.open({
 		templateUrl: 'modalTemplate',
 		scope: $scope
 	});
	$scope.content = comment;
 }
	
 	c.closeModal = function() {
 		c.modalInstance.close();
 	}
};]]></client_script>
        <controller_as>c</controller_as>
        <css>.comment {
	font-family: 'FontAwesome';
	font-style: normal;
	font-weight: 400;
	font-size: 16px;
	line-height: 18px;
	display: flex;
	align-items: center;
	text-align: center;
	color: #3C59E7;
	flex: none;
	order: 0;
	flex-grow: 0;
}
.commentBtn {
	border: 0px;
  background: transparent;
}
.commentBtn:disabled {
opacity:25%;
}
.table {
	border-bottom: 0.1rem solid #DADDE2;
}
.table &gt; tbody &gt; tr &gt; th {
	border-top: 0rem solid #DADDE2;
  border-bottom: 0.1rem solid #DADDE2;
}
.table &gt; tbody &gt; tr &gt; td {
	border-top: 0rem solid #DADDE2;
}
.boldText {
font-family: 'Lato';
font-style: normal;
font-weight: 400;
font-size: 16px;
line-height: 23px;
color: #181A1F;
display: flex;
}
.border {
box-sizing: border-box;
flex-direction: column;
justify-content: center;
align-items: flex-start;
padding: 16px;
gap: 16px;
background: #FFFFFF;
border: 1px solid #DADDE2;
border-radius: 4px;
  margin-bottom:16px;
}
.smallText {
font-family: 'Lato';
font-style: normal;
font-weight: 400;
font-size: 12px;
line-height: 17px;
color: #656E81;
  display: flex;
}</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>custom_time_off_request_item</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {
	
}]]></link>
        <name>Custom Time Off Request Item</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
    data.task_items = [];
    var app = new GlideRecord("sn_hr_workday_time_off_request_todos_item");
    var workday_id = options.workday_id;
		//var workday_id = '8e57a1262f5510126e3835ef26d10000';
    app.addEncodedQuery('u_workday_id=' + workday_id);
    app.query();
    while (app.next()) {
        var task_item = {};
        task_item.u_date = app.getValue('u_date');
        task_item.u_day_of_the_week = app.getValue('u_day_of_the_week');
        task_item.u_units_requested_this_coordinated_leave_time_off = app.getValue('u_units_requested_this_coordinated_leave_time_off');
        task_item.u_unit_time = app.getValue('u_unit_time');
        task_item.u_comment = app.getValue('u_comment');

        data.task_items.push(task_item);
    }
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-02-26 10:55:56</sys_created_on>
        <sys_id>5a6ed6b047152910901d3a34846d43c8</sys_id>
        <sys_mod_count>207</sys_mod_count>
        <sys_name>Custom Time Off Request Item</sys_name>
        <sys_package display_value="HR Service Delivery Integration with Workday" source="sn_hr_workday">d4fb8bd8db5b0010205cdf6b5e96190e</sys_package>
        <sys_policy/>
        <sys_scope display_value="HR Service Delivery Integration with Workday">d4fb8bd8db5b0010205cdf6b5e96190e</sys_scope>
        <sys_update_name>sp_widget_5a6ed6b047152910901d3a34846d43c8</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-04-13 14:17:46</sys_updated_on>
        <template><![CDATA[<div>
  <table class="table hidden-xs" ng-if="data.task_items.length>0">
    <tr>
      <th>${Date}</th>
    	<th>${Day of the week}</th>
    	<th>${Requested}</th>
    	<th>${Unit of time}</th>
    	<th></th>
		</tr>
    <tr ng-repeat="task_item in data.task_items">
      <td>{{task_item.u_date}}</td>
      <td>{{task_item.u_day_of_the_week}}</td>
      <td>{{task_item.u_units_requested_this_coordinated_leave_time_off}}</td>
      <td>{{task_item.u_unit_time}}</td>
      <td><button class="commentBtn" ng-disabled="!task_item.u_comment" ng-click="c.openModal(task_item.u_comment)"><i class="comment"></i></button></td>
    </tr>
  </table>
  <div class="container-fluid border visible-xs" ng-if="data.task_items.length>0" ng-repeat="task_item in data.task_items">
    <div class="row">
  		<div class="col-sm-6 col-xs-6 boldText">{{task_item.u_date}}</div>
  		<div class="col-sm-6 col-xs-6"><button style="float:right;" class="commentBtn" ng-disabled="!task_item.u_comment" ng-click="c.openModal(task_item.u_comment)"><i class="comment"></i></button></div>
		</div>
    <div class="row" style="margin-top: 16px;">
  		<div class="col-sm-6 col-xs-6">
      	<span class="smallText">${Day of the week}</span>
        <span class="boldText">{{task_item.u_day_of_the_week}}</span>
      </div>
  		<div class="col-sm-6 col-xs-6">
      	<span class="smallText">${Requested}</span>
        <span class="boldText">{{task_item.u_units_requested_this_coordinated_leave_time_off}}</span>
      </div>
		</div>
    <div class="row" style="margin-top: 16px;">
  		<div class="col-sm-6 col-xs-6">
      	<span class="smallText">${Unit of time}</span>
        <span class="boldText">{{task_item.u_unit_time}}</span>
      </div>
		</div>
  </div>
  <div ng-if="data.task_items.length==0">
    ${No item was found.}
  </div>
</div>

<script type="text/ng-template" id="modalTemplate">
<div class="panel panel-default">
 	<div class="panel-heading">
  	<button type="button" class="close" ng-click="c.closeModal()">&times;</button>
 		<h4 class="panel-title">${Comment}</h4>
  </div>
 	<div class="panel-body" id="divComment">
		{{content}}
  </div>
 	<div class="panel-footer text-right">
 		<button class="btn btn-primary" ng-click="c.closeModal()">${Close}</button>
 	</div>
</div>
 
<style>
 	.panel-default {
 		border-color: transparent;
 	}
 	.panel-default > .panel-heading, .panel-default > .panel-body, .panel-default > .panel-footer {
 		background-color: transparent;padding: 1.6rem;
 	}  
  .modal-dialog {
  margin-top: 0;
  margin-bottom: 0;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.modal.fade .modal-dialog {
  transform: transform .3s ease-out;
}

.modal.in .modal-dialog {
  transform: translate(0, 0);
}
</style>
</script>]]></template>
    </sp_widget>
</record_update>
